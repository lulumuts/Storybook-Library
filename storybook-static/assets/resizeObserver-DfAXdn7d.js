import{b as G}from"./locale-BpwrwHwK.js";import{p as b,i as E,e as y,c as g,o as x,f as w,r as V,g as O,j as P,u as U,k as z,l as A}from"./vue.esm-bundler-uAEZU4-3.js";import{p as C,f as R,h as M,i as $,w as q,j as F,t as N,I as W}from"./tag-BF4Hy_PK.js";const H=C({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),J=C({value:null,disabled:Boolean,selectedClass:String},"group-item");function Q(i,d){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=R("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=M();b(Symbol.for(`${d.description}:id`),n);const s=E(d,null);if(!s){if(!r)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${d.description}`)}const a=y(i,"value"),v=g(()=>!!(s.disabled.value||i.disabled));s.register({id:n,value:a,disabled:v},e),x(()=>{s.unregister(n)});const m=g(()=>s.isSelected(n)),I=g(()=>s.items.value[0].id===n),h=g(()=>s.items.value[s.items.value.length-1].id===n),p=g(()=>m.value&&[s.selectedClass.value,i.selectedClass]);return w(m,t=>{e.emit("group:selected",{value:t})},{flush:"sync"}),{id:n,isSelected:m,isFirst:I,isLast:h,toggle:()=>s.select(n,!m.value),select:t=>s.select(n,t),selectedClass:p,value:a,disabled:v,group:s}}function T(i,d){let r=!1;const e=V([]),n=G(i,"modelValue",[],t=>t==null?[]:S(e,q(t)),t=>{const u=L(e,t);return i.multiple?u:u[0]}),s=R("useGroup");function a(t,u){const o=t,l=Symbol.for(`${d.description}:id`),f=F(l,s==null?void 0:s.vnode).indexOf(u);U(o.value)==null&&(o.value=f,o.useIndexAsValue=!0),f>-1?e.splice(f,0,o):e.push(o)}function v(t){if(r)return;m();const u=e.findIndex(o=>o.id===t);e.splice(u,1)}function m(){const t=e.find(u=>!u.disabled);t&&i.mandatory==="force"&&!n.value.length&&(n.value=[t.id])}O(()=>{m()}),x(()=>{r=!0}),P(()=>{for(let t=0;t<e.length;t++)e[t].useIndexAsValue&&(e[t].value=t)});function I(t,u){const o=e.find(l=>l.id===t);if(!(u&&(o!=null&&o.disabled)))if(i.multiple){const l=n.value.slice(),c=l.findIndex(B=>B===t),f=~c;if(u=u??!f,f&&i.mandatory&&l.length<=1||!f&&i.max!=null&&l.length+1>i.max)return;c<0&&u?l.push(t):c>=0&&!u&&l.splice(c,1),n.value=l}else{const l=n.value.includes(t);if(i.mandatory&&l)return;n.value=u??!l?[t]:[]}}function h(t){if(i.multiple,n.value.length){const u=n.value[0],o=e.findIndex(f=>f.id===u);let l=(o+t)%e.length,c=e[l];for(;c.disabled&&l!==o;)l=(l+t)%e.length,c=e[l];if(c.disabled)return;n.value=[e[l].id]}else{const u=e.find(o=>!o.disabled);u&&(n.value=[u.id])}}const p={register:a,unregister:v,selected:n,select:I,disabled:y(i,"disabled"),prev:()=>h(e.length-1),next:()=>h(1),isSelected:t=>n.value.includes(t),selectedClass:g(()=>i.selectedClass),items:g(()=>e),getItemIndex:t=>j(e,t)};return b(d,p),p}function j(i,d){const r=S(i,[d]);return r.length?i.findIndex(e=>e.id===r[0]):-1}function S(i,d){const r=[];return d.forEach(e=>{const n=i.find(a=>$(e,a.value)),s=i[e];(n==null?void 0:n.value)!=null?r.push(n.id):s!=null&&r.push(s.id)}),r}function L(i,d){const r=[];return d.forEach(e=>{const n=i.findIndex(s=>s.id===e);if(~n){const s=i[n];r.push(s.value!=null?s.value:n)}}),r}function X(i){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=N(),e=z();if(W){const n=new ResizeObserver(s=>{i==null||i(s,n),s.length&&(d==="content"?e.value=s[0].contentRect:e.value=s[0].target.getBoundingClientRect())});x(()=>{n.disconnect()}),w(()=>r.el,(s,a)=>{a&&(n.unobserve(a),e.value=void 0),s&&n.observe(s)},{flush:"post"})}return{resizeRef:r,contentRect:A(e)}}export{X as a,J as b,Q as c,H as m,T as u};
